import React, { useState } from 'react';
import { Link } from 'react-router-dom';
import CommonSelect from './CommonSelect'; // Adjust import based on your file structure

const ExamScheduleForm = () => {
  const [newContents, setNewContents] = useState([{}]); // Initialize with one empty schedule

  const addNewContent = () => {
    setNewContents([...newContents, {}]); // Add a new empty schedule entry
  };

  const removeContent = (index) => {
    const updatedContents = newContents.filter((_, i) => i !== index);
    setNewContents(updatedContents); // Remove the selected schedule entry
  };

  return (
    <form>
      <div className="modal-body">
        <div className="row">
          <div className="col-md-12">
            <div className="row">
              {/* Your initial input fields */}
              <div className="col-md-4">
                <div className="mb-3">
                  <label className="form-label">Class</label>
                  <input type="text" className="form-control" />
                </div>
              </div>
              <div className="col-md-4">
                <div className="mb-3">
                  <label className="form-label">Section</label>
                  <CommonSelect className="select" options={classSection} />
                </div>
              </div>
              <div className="col-md-4">
                <div className="mb-3">
                  <label className="form-label">Exam Name</label>
                  <CommonSelect className="select" options={examtwo} />
                </div>
              </div>
              {/* More input fields... */}
            </div>
          </div>
        </div>
        {newContents.map((_, index) => (
          <div key={index} className="exam-schedule-add">
            <div className="exam-schedule-row d-flex align-items-center flex-wrap column-gap-3">
              <div className="shedule-info flex-fill">
                <div className="mb-3">
                  <label className="form-label">Exam Date</label>
                  <CommonSelect className="select" options={examOne} />
                </div>
              </div>
              <div className="shedule-info flex-fill">
                <div className="mb-3">
                  <label className="form-label">Subject</label>
                  <CommonSelect className="select" options={mothertongue} />
                </div>
              </div>
              <div className="shedule-info flex-fill">
                <div className="mb-3">
                  <label className="form-label">Room No</label>
                  <CommonSelect className="select" options={count} />
                </div>
              </div>
              <div className="shedule-info flex-fill">
                <div className="mb-3">
                  <label className="form-label">Max Marks</label>
                  <CommonSelect className="select" options={maxMark} />
                </div>
              </div>
              <div className="shedule-info flex-fill">
                <div className="d-flex align-items-end">
                  <div className="mb-3 flex-fill">
                    <label className="form-label">Min Marks</label>
                    <CommonSelect className="select" options={minMark} />
                  </div>
                  {newContents.length > 1 && (
                    <div className="mb-3 ms-2">
                      <Link to="#" className="delete-schedule-table" onClick={() => removeContent(index)}>
                        <i className="ti ti-trash" />
                      </Link>
                    </div>
                  )}
                </div>
              </div>
            </div>
          </div>
        ))}
        <div>
          <Link to="#" onClick={addNewContent} className="btn btn-primary add-new-schedule">
            <i className="ti ti-square-rounded-plus-filled me-2" />
            Add New
          </Link>
        </div>
      </div>
      <div className="modal-footer">
        <Link to="#" className="btn btn-light me-2" data-bs-dismiss="modal">
          Cancel
        </Link>
        <Link to="#" className="btn btn-primary" data-bs-dismiss="modal">
          Add Exam Schedule
        </Link>
      </div>
    </form>
  );
};

export default ExamScheduleForm;
